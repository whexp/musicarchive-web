---
title: Top Downloads
---
<div class="container">
  <div class="hero-unit">
      <div class="row-fluid">
          <div class="offset4 span4">


          <table id='data-table' class='table table-bordered hidden'>
            <thead>
              <tr>
                <th>#</th>
                <th>Artist</th>
                <th>Title</th>
                <th>Date Created</th>
                <th>Downloads</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
          </div>
      </div>
  </div>
</div>

<script type='text/javascript'>
 window.onload = function () {
  console.log("Loaded page..");
  $.ajax({
    type: "GET",
    url:  "http://localhost:9292/top_downloads",
    success: function(results){
      $.each(results, function(index,track){
        if(index % 2===0){
          $class='info'
       }else{$class=''}

        $('table#data-table tbody').append(
          $('<tr>').addClass($class)
            .append($('<td>').append(track['track_id']))
            .append($('<td>').append(track['artist']))
            .append($('<td>').append(track['title']))
            .append($('<td>').append(track['date_created']))
            .append($('<td>').append(track['downloads']))
        );
        $('.progress').hide()
        $('table#data-table').removeClass('hidden')
      });
    },
    error: function(results){
      // What to do when the ajax fails.
      console.log("ERROR");
      $("div#response").html(results);
    }
  });
};
</script>
<div class="progress">
  <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="200" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
    <span class="sr-only">100% Complete
    </div>
    Loading...
  </div>
  </span>