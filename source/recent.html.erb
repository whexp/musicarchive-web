---
title: Recent tracks
---
<div class="container">
  <div class="hero-unit">
      <div class="row-fluid">
          <div class="offset4 span4">


          <table id='data-table' class='table table-striped table-bordered'>
            <thead>
              <tr>
                <th>#</th>
                <th>Artist</th>
                <th>Title</th>
                <th>Date Created</th>
                <th>Downloads</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
          </div>
      </div>
  </div>
</div>

<script type='text/javascript'>
 window.onload = function () {
  console.log("Loaded page..");
  $.ajax({
    type: "GET",
    url:  "http://localhost:9292/recent",
    success: function(results){
      $.each(results, function(index,track){
        $('table#data-table tbody').append(
          $('<tr>')
            .append($('<td>').append(track['track_id']))
            .append($('<td>').append(track['artist']))
            .append($('<td>').append(track['title']))
            .append($('<td>').append(track['date_created']))
            .append($('<td>').append(track['downloads']))
        );
      });
    },
    error: function(results){
      // What to do when the ajax fails.
      console.log("ERROR");
      $("div#response").html(results);
    }
  });
};
</script>
